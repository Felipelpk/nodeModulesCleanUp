#!/bin/bash

# Define the path to the input file with the list of folders to be deleted
file_path="./node_modules_list.txt"

# Check if the input file exists
if [ ! -f "$file_path" ]; then
    echo "File not found"
    exit 1
fi

# Loop through each line of the input file
while read line; do
    # Extract the size and path of the folder from the current line
    size=$(echo "$line" | awk '{print $1}')
    path=$(echo "$line" | awk '{print $2}')

    # Check if the path is valid and the folder exists
    if [ -d "$path" ]; then
        # Delete the folder and all its contents
        rm -rf "$path"

        # Display the deletion completion message
        echo "Directory $path ($size) has been deleted."
    else
        # Display the error message if the path is not valid
        echo "The path $path is not valid or the folder does not exist."
    fi
done < "$file_path"
